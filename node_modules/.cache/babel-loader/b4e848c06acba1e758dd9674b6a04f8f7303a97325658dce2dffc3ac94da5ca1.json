{"ast":null,"code":"var _jsxFileName = \"C:\\\\workspace\\\\vscodeProjects\\\\Stocker\\\\src\\\\components\\\\Trading.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Box, Container, VStack, Input, Button, Text, Heading, useToast, Table, Thead, Tbody, Tr, Th, Td, InputGroup, InputRightElement, Stat, StatLabel, StatNumber, StatHelpText, StatArrow, useColorModeValue, Badge, NumberInput, NumberInputField, NumberInputStepper, NumberIncrementStepper, NumberDecrementStepper, Tabs, TabList, TabPanels, Tab, TabPanel, Skeleton, Alert, AlertIcon } from \"@chakra-ui/react\";\nimport { SearchIcon } from \"@chakra-ui/icons\";\nimport axios from \"axios\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { db } from \"../config/firebase\";\nimport { ALPHA_VANTAGE_API_KEY } from \"../config/config\";\nimport { collection, addDoc, query, where, getDocs, deleteDoc, doc } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Trading() {\n  _s();\n  const [symbol, setSymbol] = useState(\"\");\n  const [stockData, setStockData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [quantity, setQuantity] = useState(1);\n  const [portfolio, setPortfolio] = useState([]);\n  const [loadingPortfolio, setLoadingPortfolio] = useState(true);\n  const {\n    currentUser\n  } = useAuth();\n  const toast = useToast();\n  const bgColor = useColorModeValue(\"white\", \"gray.800\");\n  const borderColor = useColorModeValue(\"gray.200\", \"gray.600\");\n  useEffect(() => {\n    fetchPortfolio();\n  }, [currentUser]);\n  const fetchPortfolio = async () => {\n    try {\n      const q = query(collection(db, \"stocks\"), where(\"userId\", \"==\", currentUser.uid));\n      const querySnapshot = await getDocs(q);\n      const stocks = [];\n      for (const doc of querySnapshot.docs) {\n        const stock = {\n          id: doc.id,\n          ...doc.data()\n        };\n        // Get current price for each stock\n        const currentPrice = await fetchStockPrice(stock.symbol);\n        stock.currentPrice = currentPrice;\n        stock.totalValue = currentPrice * stock.quantity;\n        stock.profitLoss = (currentPrice - stock.purchasePrice) * stock.quantity;\n        stock.profitLossPercentage = (currentPrice - stock.purchasePrice) / stock.purchasePrice * 100;\n        stocks.push(stock);\n      }\n      setPortfolio(stocks);\n    } catch (error) {\n      console.error(\"Error fetching portfolio:\", error);\n      toast({\n        title: \"Error\",\n        description: \"Failed to fetch portfolio\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setLoadingPortfolio(false);\n    }\n  };\n  const fetchStockPrice = async stockSymbol => {\n    try {\n      var _response$data, _response$data$Global;\n      const response = await axios.get(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${stockSymbol}&apikey=${ALPHA_VANTAGE_API_KEY}`);\n      if (!((_response$data = response.data) !== null && _response$data !== void 0 && (_response$data$Global = _response$data[\"Global Quote\"]) !== null && _response$data$Global !== void 0 && _response$data$Global[\"05. price\"])) {\n        throw new Error(\"Invalid response format\");\n      }\n      return parseFloat(response.data[\"Global Quote\"][\"05. price\"]);\n    } catch (error) {\n      console.error(`Error fetching price for ${stockSymbol}:`, error);\n      return 0;\n    }\n  };\n  const searchStock = async () => {\n    if (!symbol) return;\n    setLoading(true);\n    try {\n      var _response$data2;\n      const response = await axios.get(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${symbol}&apikey=${ALPHA_VANTAGE_API_KEY}`);\n      if (!((_response$data2 = response.data) !== null && _response$data2 !== void 0 && _response$data2[\"Global Quote\"])) {\n        throw new Error(\"Stock not found\");\n      }\n      const quote = response.data[\"Global Quote\"];\n      setStockData({\n        symbol: symbol.toUpperCase(),\n        price: parseFloat(quote[\"05. price\"]),\n        change: parseFloat(quote[\"09. change\"]),\n        changePercent: parseFloat(quote[\"10. change percent\"].replace(\"%\", \"\"))\n      });\n    } catch (error) {\n      console.error(\"Stock search error:\", error);\n      toast({\n        title: \"Error\",\n        description: error.message === \"Stock not found\" ? \"Stock symbol not found\" : \"Unable to fetch stock data. Please try again.\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true\n      });\n      setStockData(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleTrade = async type => {\n    if (!stockData || !quantity) return;\n    try {\n      const tradeData = {\n        userId: currentUser.uid,\n        symbol: stockData.symbol,\n        quantity: Number(quantity),\n        purchasePrice: stockData.price,\n        tradeType: type,\n        timestamp: new Date().toISOString()\n      };\n      await addDoc(collection(db, \"stocks\"), tradeData);\n      toast({\n        title: \"Success\",\n        description: `Successfully ${type === \"buy\" ? \"bought\" : \"sold\"} ${quantity} shares of ${stockData.symbol}`,\n        status: \"success\",\n        duration: 5000,\n        isClosable: true\n      });\n      fetchPortfolio();\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: `Failed to ${type} stock`,\n        status: \"error\",\n        duration: 5000,\n        isClosable: true\n      });\n    }\n  };\n  const handleSell = async (stockId, symbol, currentPrice, quantity) => {\n    try {\n      await deleteDoc(doc(db, \"stocks\", stockId));\n      await addDoc(collection(db, \"stocks\"), {\n        userId: currentUser.uid,\n        symbol,\n        quantity: -quantity,\n        // Negative quantity for selling\n        purchasePrice: currentPrice,\n        tradeType: \"sell\",\n        timestamp: new Date().toISOString()\n      });\n      toast({\n        title: \"Success\",\n        description: `Successfully sold ${quantity} shares of ${symbol}`,\n        status: \"success\",\n        duration: 5000,\n        isClosable: true\n      });\n      fetchPortfolio();\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to sell stock\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxW: \"container.lg\",\n    py: 10,\n    children: /*#__PURE__*/_jsxDEV(VStack, {\n      spacing: 8,\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        bgGradient: \"linear(to-r, blue.400, purple.500)\",\n        bgClip: \"text\",\n        fontSize: {\n          base: \"2xl\",\n          md: \"4xl\"\n        },\n        fontWeight: \"extrabold\",\n        children: \"Stock Trading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n        width: \"100%\",\n        variant: \"enclosed\",\n        children: [/*#__PURE__*/_jsxDEV(TabList, {\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            children: \"Trade\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            children: \"Portfolio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPanels, {\n          children: [/*#__PURE__*/_jsxDEV(TabPanel, {\n            children: /*#__PURE__*/_jsxDEV(VStack, {\n              spacing: 6,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                width: \"100%\",\n                children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                  size: \"lg\",\n                  children: [/*#__PURE__*/_jsxDEV(Input, {\n                    placeholder: \"Enter stock symbol (e.g., AAPL)\",\n                    value: symbol,\n                    onChange: e => setSymbol(e.target.value.toUpperCase()),\n                    onKeyPress: e => {\n                      if (e.key === \"Enter\") searchStock();\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(InputRightElement, {\n                    width: \"4.5rem\",\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      h: \"1.75rem\",\n                      size: \"sm\",\n                      onClick: searchStock,\n                      isLoading: loading,\n                      children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), stockData && /*#__PURE__*/_jsxDEV(Box, {\n                p: 6,\n                borderRadius: \"lg\",\n                boxShadow: \"xl\",\n                bg: bgColor,\n                border: \"1px\",\n                borderColor: borderColor,\n                width: \"100%\",\n                children: /*#__PURE__*/_jsxDEV(VStack, {\n                  spacing: 4,\n                  children: [/*#__PURE__*/_jsxDEV(Stat, {\n                    textAlign: \"center\",\n                    children: [/*#__PURE__*/_jsxDEV(StatLabel, {\n                      fontSize: \"xl\",\n                      children: stockData.symbol\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(StatNumber, {\n                      fontSize: \"3xl\",\n                      children: [\"$\", stockData.price.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(StatHelpText, {\n                      children: [/*#__PURE__*/_jsxDEV(StatArrow, {\n                        type: stockData.change > 0 ? \"increase\" : \"decrease\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 287,\n                        columnNumber: 27\n                      }, this), Math.abs(stockData.changePercent).toFixed(2), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(NumberInput, {\n                    value: quantity,\n                    min: 1,\n                    onChange: value => setQuantity(Number(value)),\n                    children: [/*#__PURE__*/_jsxDEV(NumberInputField, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(NumberInputStepper, {\n                      children: [/*#__PURE__*/_jsxDEV(NumberIncrementStepper, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(NumberDecrementStepper, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: \"lg\",\n                    fontWeight: \"bold\",\n                    children: [\"Total: $\", (stockData.price * quantity).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    colorScheme: \"green\",\n                    width: \"100%\",\n                    onClick: () => handleTrade(\"buy\"),\n                    children: \"Buy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              borderRadius: \"lg\",\n              boxShadow: \"xl\",\n              bg: bgColor,\n              border: \"1px\",\n              borderColor: borderColor,\n              overflow: \"hidden\",\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                variant: \"simple\",\n                children: [/*#__PURE__*/_jsxDEV(Thead, {\n                  children: /*#__PURE__*/_jsxDEV(Tr, {\n                    children: [/*#__PURE__*/_jsxDEV(Th, {\n                      children: \"Symbol\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Th, {\n                      isNumeric: true,\n                      children: \"Quantity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Th, {\n                      isNumeric: true,\n                      children: \"Purchase Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 339,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Th, {\n                      isNumeric: true,\n                      children: \"Current Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Th, {\n                      isNumeric: true,\n                      children: \"Total Value\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 341,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Th, {\n                      isNumeric: true,\n                      children: \"Profit/Loss\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 342,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Th, {\n                      children: \"Action\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Tbody, {\n                  children: loadingPortfolio ? /*#__PURE__*/_jsxDEV(Tr, {\n                    children: /*#__PURE__*/_jsxDEV(Td, {\n                      colSpan: 7,\n                      children: /*#__PURE__*/_jsxDEV(Skeleton, {\n                        height: \"20px\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 350,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 23\n                  }, this) : portfolio.map(stock => /*#__PURE__*/_jsxDEV(Tr, {\n                    children: [/*#__PURE__*/_jsxDEV(Td, {\n                      children: stock.symbol\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Td, {\n                      isNumeric: true,\n                      children: stock.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Td, {\n                      isNumeric: true,\n                      children: [\"$\", stock.purchasePrice.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Td, {\n                      isNumeric: true,\n                      children: [\"$\", stock.currentPrice.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Td, {\n                      isNumeric: true,\n                      children: [\"$\", stock.totalValue.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Td, {\n                      isNumeric: true,\n                      children: /*#__PURE__*/_jsxDEV(Badge, {\n                        colorScheme: stock.profitLoss >= 0 ? \"green\" : \"red\",\n                        children: [\"$\", stock.profitLoss.toFixed(2), \" (\", stock.profitLossPercentage.toFixed(2), \"%)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 362,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Td, {\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        colorScheme: \"red\",\n                        size: \"sm\",\n                        onClick: () => handleSell(stock.id, stock.symbol, stock.currentPrice, stock.quantity),\n                        children: \"Sell\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 372,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 371,\n                      columnNumber: 27\n                    }, this)]\n                  }, stock.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n}\n_s(Trading, \"YOO9lznmnv8sNWyw1VPvtVGQqxI=\", false, function () {\n  return [useAuth, useToast, useColorModeValue, useColorModeValue];\n});\n_c = Trading;\nexport default Trading;\nvar _c;\n$RefreshReg$(_c, \"Trading\");","map":{"version":3,"names":["React","useState","useEffect","Box","Container","VStack","Input","Button","Text","Heading","useToast","Table","Thead","Tbody","Tr","Th","Td","InputGroup","InputRightElement","Stat","StatLabel","StatNumber","StatHelpText","StatArrow","useColorModeValue","Badge","NumberInput","NumberInputField","NumberInputStepper","NumberIncrementStepper","NumberDecrementStepper","Tabs","TabList","TabPanels","Tab","TabPanel","Skeleton","Alert","AlertIcon","SearchIcon","axios","useAuth","db","ALPHA_VANTAGE_API_KEY","collection","addDoc","query","where","getDocs","deleteDoc","doc","jsxDEV","_jsxDEV","Trading","_s","symbol","setSymbol","stockData","setStockData","loading","setLoading","quantity","setQuantity","portfolio","setPortfolio","loadingPortfolio","setLoadingPortfolio","currentUser","toast","bgColor","borderColor","fetchPortfolio","q","uid","querySnapshot","stocks","docs","stock","id","data","currentPrice","fetchStockPrice","totalValue","profitLoss","purchasePrice","profitLossPercentage","push","error","console","title","description","status","duration","isClosable","stockSymbol","_response$data","_response$data$Global","response","get","Error","parseFloat","searchStock","_response$data2","quote","toUpperCase","price","change","changePercent","replace","message","handleTrade","type","tradeData","userId","Number","tradeType","timestamp","Date","toISOString","handleSell","stockId","maxW","py","children","spacing","bgGradient","bgClip","fontSize","base","md","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","width","variant","size","placeholder","value","onChange","e","target","onKeyPress","key","h","onClick","isLoading","p","borderRadius","boxShadow","bg","border","textAlign","toFixed","Math","abs","min","colorScheme","overflow","isNumeric","colSpan","height","map","_c","$RefreshReg$"],"sources":["C:/workspace/vscodeProjects/Stocker/src/components/Trading.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Box,\r\n  Container,\r\n  VStack,\r\n  Input,\r\n  Button,\r\n  Text,\r\n  Heading,\r\n  useToast,\r\n  Table,\r\n  Thead,\r\n  Tbody,\r\n  Tr,\r\n  Th,\r\n  Td,\r\n  InputGroup,\r\n  InputRightElement,\r\n  Stat,\r\n  StatLabel,\r\n  StatNumber,\r\n  StatHelpText,\r\n  StatArrow,\r\n  useColorModeValue,\r\n  Badge,\r\n  NumberInput,\r\n  NumberInputField,\r\n  NumberInputStepper,\r\n  NumberIncrementStepper,\r\n  NumberDecrementStepper,\r\n  Tabs,\r\n  TabList,\r\n  TabPanels,\r\n  Tab,\r\n  TabPanel,\r\n  Skeleton,\r\n  Alert,\r\n  AlertIcon,\r\n} from \"@chakra-ui/react\";\r\nimport { SearchIcon } from \"@chakra-ui/icons\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { db } from \"../config/firebase\";\r\nimport { ALPHA_VANTAGE_API_KEY } from \"../config/config\";\r\nimport {\r\n  collection,\r\n  addDoc,\r\n  query,\r\n  where,\r\n  getDocs,\r\n  deleteDoc,\r\n  doc,\r\n} from \"firebase/firestore\";\r\n\r\nfunction Trading() {\r\n  const [symbol, setSymbol] = useState(\"\");\r\n  const [stockData, setStockData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [portfolio, setPortfolio] = useState([]);\r\n  const [loadingPortfolio, setLoadingPortfolio] = useState(true);\r\n  const { currentUser } = useAuth();\r\n  const toast = useToast();\r\n\r\n  const bgColor = useColorModeValue(\"white\", \"gray.800\");\r\n  const borderColor = useColorModeValue(\"gray.200\", \"gray.600\");\r\n\r\n  useEffect(() => {\r\n    fetchPortfolio();\r\n  }, [currentUser]);\r\n\r\n  const fetchPortfolio = async () => {\r\n    try {\r\n      const q = query(\r\n        collection(db, \"stocks\"),\r\n        where(\"userId\", \"==\", currentUser.uid)\r\n      );\r\n      const querySnapshot = await getDocs(q);\r\n      const stocks = [];\r\n      for (const doc of querySnapshot.docs) {\r\n        const stock = { id: doc.id, ...doc.data() };\r\n        // Get current price for each stock\r\n        const currentPrice = await fetchStockPrice(stock.symbol);\r\n        stock.currentPrice = currentPrice;\r\n        stock.totalValue = currentPrice * stock.quantity;\r\n        stock.profitLoss =\r\n          (currentPrice - stock.purchasePrice) * stock.quantity;\r\n        stock.profitLossPercentage =\r\n          ((currentPrice - stock.purchasePrice) / stock.purchasePrice) * 100;\r\n        stocks.push(stock);\r\n      }\r\n      setPortfolio(stocks);\r\n    } catch (error) {\r\n      console.error(\"Error fetching portfolio:\", error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to fetch portfolio\",\r\n        status: \"error\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n      });\r\n    } finally {\r\n      setLoadingPortfolio(false);\r\n    }\r\n  };\r\n\r\n  const fetchStockPrice = async (stockSymbol) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${stockSymbol}&apikey=${ALPHA_VANTAGE_API_KEY}`\r\n      );\r\n\r\n      if (!response.data?.[\"Global Quote\"]?.[\"05. price\"]) {\r\n        throw new Error(\"Invalid response format\");\r\n      }\r\n\r\n      return parseFloat(response.data[\"Global Quote\"][\"05. price\"]);\r\n    } catch (error) {\r\n      console.error(`Error fetching price for ${stockSymbol}:`, error);\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  const searchStock = async () => {\r\n    if (!symbol) return;\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(\r\n        `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${symbol}&apikey=${ALPHA_VANTAGE_API_KEY}`\r\n      );\r\n\r\n      if (!response.data?.[\"Global Quote\"]) {\r\n        throw new Error(\"Stock not found\");\r\n      }\r\n\r\n      const quote = response.data[\"Global Quote\"];\r\n      setStockData({\r\n        symbol: symbol.toUpperCase(),\r\n        price: parseFloat(quote[\"05. price\"]),\r\n        change: parseFloat(quote[\"09. change\"]),\r\n        changePercent: parseFloat(quote[\"10. change percent\"].replace(\"%\", \"\")),\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Stock search error:\", error);\r\n      toast({\r\n        title: \"Error\",\r\n        description:\r\n          error.message === \"Stock not found\"\r\n            ? \"Stock symbol not found\"\r\n            : \"Unable to fetch stock data. Please try again.\",\r\n        status: \"error\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n      });\r\n      setStockData(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleTrade = async (type) => {\r\n    if (!stockData || !quantity) return;\r\n\r\n    try {\r\n      const tradeData = {\r\n        userId: currentUser.uid,\r\n        symbol: stockData.symbol,\r\n        quantity: Number(quantity),\r\n        purchasePrice: stockData.price,\r\n        tradeType: type,\r\n        timestamp: new Date().toISOString(),\r\n      };\r\n\r\n      await addDoc(collection(db, \"stocks\"), tradeData);\r\n      toast({\r\n        title: \"Success\",\r\n        description: `Successfully ${\r\n          type === \"buy\" ? \"bought\" : \"sold\"\r\n        } ${quantity} shares of ${stockData.symbol}`,\r\n        status: \"success\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n      });\r\n      fetchPortfolio();\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: `Failed to ${type} stock`,\r\n        status: \"error\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSell = async (stockId, symbol, currentPrice, quantity) => {\r\n    try {\r\n      await deleteDoc(doc(db, \"stocks\", stockId));\r\n      await addDoc(collection(db, \"stocks\"), {\r\n        userId: currentUser.uid,\r\n        symbol,\r\n        quantity: -quantity, // Negative quantity for selling\r\n        purchasePrice: currentPrice,\r\n        tradeType: \"sell\",\r\n        timestamp: new Date().toISOString(),\r\n      });\r\n      toast({\r\n        title: \"Success\",\r\n        description: `Successfully sold ${quantity} shares of ${symbol}`,\r\n        status: \"success\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n      });\r\n      fetchPortfolio();\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to sell stock\",\r\n        status: \"error\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxW=\"container.lg\" py={10}>\r\n      <VStack spacing={8}>\r\n        <Heading\r\n          bgGradient=\"linear(to-r, blue.400, purple.500)\"\r\n          bgClip=\"text\"\r\n          fontSize={{ base: \"2xl\", md: \"4xl\" }}\r\n          fontWeight=\"extrabold\"\r\n        >\r\n          Stock Trading\r\n        </Heading>\r\n\r\n        <Tabs width=\"100%\" variant=\"enclosed\">\r\n          <TabList>\r\n            <Tab>Trade</Tab>\r\n            <Tab>Portfolio</Tab>\r\n          </TabList>\r\n\r\n          <TabPanels>\r\n            <TabPanel>\r\n              <VStack spacing={6}>\r\n                <Box width=\"100%\">\r\n                  <InputGroup size=\"lg\">\r\n                    <Input\r\n                      placeholder=\"Enter stock symbol (e.g., AAPL)\"\r\n                      value={symbol}\r\n                      onChange={(e) => setSymbol(e.target.value.toUpperCase())}\r\n                      onKeyPress={(e) => {\r\n                        if (e.key === \"Enter\") searchStock();\r\n                      }}\r\n                    />\r\n                    <InputRightElement width=\"4.5rem\">\r\n                      <Button\r\n                        h=\"1.75rem\"\r\n                        size=\"sm\"\r\n                        onClick={searchStock}\r\n                        isLoading={loading}\r\n                      >\r\n                        <SearchIcon />\r\n                      </Button>\r\n                    </InputRightElement>\r\n                  </InputGroup>\r\n                </Box>\r\n\r\n                {stockData && (\r\n                  <Box\r\n                    p={6}\r\n                    borderRadius=\"lg\"\r\n                    boxShadow=\"xl\"\r\n                    bg={bgColor}\r\n                    border=\"1px\"\r\n                    borderColor={borderColor}\r\n                    width=\"100%\"\r\n                  >\r\n                    <VStack spacing={4}>\r\n                      <Stat textAlign=\"center\">\r\n                        <StatLabel fontSize=\"xl\">{stockData.symbol}</StatLabel>\r\n                        <StatNumber fontSize=\"3xl\">\r\n                          ${stockData.price.toFixed(2)}\r\n                        </StatNumber>\r\n                        <StatHelpText>\r\n                          <StatArrow\r\n                            type={\r\n                              stockData.change > 0 ? \"increase\" : \"decrease\"\r\n                            }\r\n                          />\r\n                          {Math.abs(stockData.changePercent).toFixed(2)}%\r\n                        </StatHelpText>\r\n                      </Stat>\r\n\r\n                      <NumberInput\r\n                        value={quantity}\r\n                        min={1}\r\n                        onChange={(value) => setQuantity(Number(value))}\r\n                      >\r\n                        <NumberInputField />\r\n                        <NumberInputStepper>\r\n                          <NumberIncrementStepper />\r\n                          <NumberDecrementStepper />\r\n                        </NumberInputStepper>\r\n                      </NumberInput>\r\n\r\n                      <Text fontSize=\"lg\" fontWeight=\"bold\">\r\n                        Total: ${(stockData.price * quantity).toFixed(2)}\r\n                      </Text>\r\n\r\n                      <Button\r\n                        colorScheme=\"green\"\r\n                        width=\"100%\"\r\n                        onClick={() => handleTrade(\"buy\")}\r\n                      >\r\n                        Buy\r\n                      </Button>\r\n                    </VStack>\r\n                  </Box>\r\n                )}\r\n              </VStack>\r\n            </TabPanel>\r\n\r\n            <TabPanel>\r\n              <Box\r\n                borderRadius=\"lg\"\r\n                boxShadow=\"xl\"\r\n                bg={bgColor}\r\n                border=\"1px\"\r\n                borderColor={borderColor}\r\n                overflow=\"hidden\"\r\n              >\r\n                <Table variant=\"simple\">\r\n                  <Thead>\r\n                    <Tr>\r\n                      <Th>Symbol</Th>\r\n                      <Th isNumeric>Quantity</Th>\r\n                      <Th isNumeric>Purchase Price</Th>\r\n                      <Th isNumeric>Current Price</Th>\r\n                      <Th isNumeric>Total Value</Th>\r\n                      <Th isNumeric>Profit/Loss</Th>\r\n                      <Th>Action</Th>\r\n                    </Tr>\r\n                  </Thead>\r\n                  <Tbody>\r\n                    {loadingPortfolio ? (\r\n                      <Tr>\r\n                        <Td colSpan={7}>\r\n                          <Skeleton height=\"20px\" />\r\n                        </Td>\r\n                      </Tr>\r\n                    ) : (\r\n                      portfolio.map((stock) => (\r\n                        <Tr key={stock.id}>\r\n                          <Td>{stock.symbol}</Td>\r\n                          <Td isNumeric>{stock.quantity}</Td>\r\n                          <Td isNumeric>${stock.purchasePrice.toFixed(2)}</Td>\r\n                          <Td isNumeric>${stock.currentPrice.toFixed(2)}</Td>\r\n                          <Td isNumeric>${stock.totalValue.toFixed(2)}</Td>\r\n                          <Td isNumeric>\r\n                            <Badge\r\n                              colorScheme={\r\n                                stock.profitLoss >= 0 ? \"green\" : \"red\"\r\n                              }\r\n                            >\r\n                              ${stock.profitLoss.toFixed(2)} (\r\n                              {stock.profitLossPercentage.toFixed(2)}%)\r\n                            </Badge>\r\n                          </Td>\r\n                          <Td>\r\n                            <Button\r\n                              colorScheme=\"red\"\r\n                              size=\"sm\"\r\n                              onClick={() =>\r\n                                handleSell(\r\n                                  stock.id,\r\n                                  stock.symbol,\r\n                                  stock.currentPrice,\r\n                                  stock.quantity\r\n                                )\r\n                              }\r\n                            >\r\n                              Sell\r\n                            </Button>\r\n                          </Td>\r\n                        </Tr>\r\n                      ))\r\n                    )}\r\n                  </Tbody>\r\n                </Table>\r\n              </Box>\r\n            </TabPanel>\r\n          </TabPanels>\r\n        </Tabs>\r\n      </VStack>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Trading;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SACEC,GAAG,EACHC,SAAS,EACTC,MAAM,EACNC,KAAK,EACLC,MAAM,EACNC,IAAI,EACJC,OAAO,EACPC,QAAQ,EACRC,KAAK,EACLC,KAAK,EACLC,KAAK,EACLC,EAAE,EACFC,EAAE,EACFC,EAAE,EACFC,UAAU,EACVC,iBAAiB,EACjBC,IAAI,EACJC,SAAS,EACTC,UAAU,EACVC,YAAY,EACZC,SAAS,EACTC,iBAAiB,EACjBC,KAAK,EACLC,WAAW,EACXC,gBAAgB,EAChBC,kBAAkB,EAClBC,sBAAsB,EACtBC,sBAAsB,EACtBC,IAAI,EACJC,OAAO,EACPC,SAAS,EACTC,GAAG,EACHC,QAAQ,EACRC,QAAQ,EACRC,KAAK,EACLC,SAAS,QACJ,kBAAkB;AACzB,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,EAAE,QAAQ,oBAAoB;AACvC,SAASC,qBAAqB,QAAQ,kBAAkB;AACxD,SACEC,UAAU,EACVC,MAAM,EACNC,KAAK,EACLC,KAAK,EACLC,OAAO,EACPC,SAAS,EACTC,GAAG,QACE,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5B,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACjB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGvD,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACwD,SAAS,EAAEC,YAAY,CAAC,GAAGzD,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAAC0D,OAAO,EAAEC,UAAU,CAAC,GAAG3D,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC4D,QAAQ,EAAEC,WAAW,CAAC,GAAG7D,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAAC8D,SAAS,EAAEC,YAAY,CAAC,GAAG/D,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACgE,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGjE,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM;IAAEkE;EAAY,CAAC,GAAG1B,OAAO,CAAC,CAAC;EACjC,MAAM2B,KAAK,GAAG1D,QAAQ,CAAC,CAAC;EAExB,MAAM2D,OAAO,GAAG7C,iBAAiB,CAAC,OAAO,EAAE,UAAU,CAAC;EACtD,MAAM8C,WAAW,GAAG9C,iBAAiB,CAAC,UAAU,EAAE,UAAU,CAAC;EAE7DtB,SAAS,CAAC,MAAM;IACdqE,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACJ,WAAW,CAAC,CAAC;EAEjB,MAAMI,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMC,CAAC,GAAG1B,KAAK,CACbF,UAAU,CAACF,EAAE,EAAE,QAAQ,CAAC,EACxBK,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAEoB,WAAW,CAACM,GAAG,CACvC,CAAC;MACD,MAAMC,aAAa,GAAG,MAAM1B,OAAO,CAACwB,CAAC,CAAC;MACtC,MAAMG,MAAM,GAAG,EAAE;MACjB,KAAK,MAAMzB,GAAG,IAAIwB,aAAa,CAACE,IAAI,EAAE;QACpC,MAAMC,KAAK,GAAG;UAAEC,EAAE,EAAE5B,GAAG,CAAC4B,EAAE;UAAE,GAAG5B,GAAG,CAAC6B,IAAI,CAAC;QAAE,CAAC;QAC3C;QACA,MAAMC,YAAY,GAAG,MAAMC,eAAe,CAACJ,KAAK,CAACtB,MAAM,CAAC;QACxDsB,KAAK,CAACG,YAAY,GAAGA,YAAY;QACjCH,KAAK,CAACK,UAAU,GAAGF,YAAY,GAAGH,KAAK,CAAChB,QAAQ;QAChDgB,KAAK,CAACM,UAAU,GACd,CAACH,YAAY,GAAGH,KAAK,CAACO,aAAa,IAAIP,KAAK,CAAChB,QAAQ;QACvDgB,KAAK,CAACQ,oBAAoB,GACvB,CAACL,YAAY,GAAGH,KAAK,CAACO,aAAa,IAAIP,KAAK,CAACO,aAAa,GAAI,GAAG;QACpET,MAAM,CAACW,IAAI,CAACT,KAAK,CAAC;MACpB;MACAb,YAAY,CAACW,MAAM,CAAC;IACtB,CAAC,CAAC,OAAOY,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjDnB,KAAK,CAAC;QACJqB,KAAK,EAAE,OAAO;QACdC,WAAW,EAAE,2BAA2B;QACxCC,MAAM,EAAE,OAAO;QACfC,QAAQ,EAAE,IAAI;QACdC,UAAU,EAAE;MACd,CAAC,CAAC;IACJ,CAAC,SAAS;MACR3B,mBAAmB,CAAC,KAAK,CAAC;IAC5B;EACF,CAAC;EAED,MAAMe,eAAe,GAAG,MAAOa,WAAW,IAAK;IAC7C,IAAI;MAAA,IAAAC,cAAA,EAAAC,qBAAA;MACF,MAAMC,QAAQ,GAAG,MAAMzD,KAAK,CAAC0D,GAAG,CAC9B,kEAAkEJ,WAAW,WAAWnD,qBAAqB,EAC/G,CAAC;MAED,IAAI,GAAAoD,cAAA,GAACE,QAAQ,CAAClB,IAAI,cAAAgB,cAAA,gBAAAC,qBAAA,GAAbD,cAAA,CAAgB,cAAc,CAAC,cAAAC,qBAAA,eAA/BA,qBAAA,CAAkC,WAAW,CAAC,GAAE;QACnD,MAAM,IAAIG,KAAK,CAAC,yBAAyB,CAAC;MAC5C;MAEA,OAAOC,UAAU,CAACH,QAAQ,CAAClB,IAAI,CAAC,cAAc,CAAC,CAAC,WAAW,CAAC,CAAC;IAC/D,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4BO,WAAW,GAAG,EAAEP,KAAK,CAAC;MAChE,OAAO,CAAC;IACV;EACF,CAAC;EAED,MAAMc,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI,CAAC9C,MAAM,EAAE;IACbK,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MAAA,IAAA0C,eAAA;MACF,MAAML,QAAQ,GAAG,MAAMzD,KAAK,CAAC0D,GAAG,CAC9B,kEAAkE3C,MAAM,WAAWZ,qBAAqB,EAC1G,CAAC;MAED,IAAI,GAAA2D,eAAA,GAACL,QAAQ,CAAClB,IAAI,cAAAuB,eAAA,eAAbA,eAAA,CAAgB,cAAc,CAAC,GAAE;QACpC,MAAM,IAAIH,KAAK,CAAC,iBAAiB,CAAC;MACpC;MAEA,MAAMI,KAAK,GAAGN,QAAQ,CAAClB,IAAI,CAAC,cAAc,CAAC;MAC3CrB,YAAY,CAAC;QACXH,MAAM,EAAEA,MAAM,CAACiD,WAAW,CAAC,CAAC;QAC5BC,KAAK,EAAEL,UAAU,CAACG,KAAK,CAAC,WAAW,CAAC,CAAC;QACrCG,MAAM,EAAEN,UAAU,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;QACvCI,aAAa,EAAEP,UAAU,CAACG,KAAK,CAAC,oBAAoB,CAAC,CAACK,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;MACxE,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOrB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3CnB,KAAK,CAAC;QACJqB,KAAK,EAAE,OAAO;QACdC,WAAW,EACTH,KAAK,CAACsB,OAAO,KAAK,iBAAiB,GAC/B,wBAAwB,GACxB,+CAA+C;QACrDlB,MAAM,EAAE,OAAO;QACfC,QAAQ,EAAE,IAAI;QACdC,UAAU,EAAE;MACd,CAAC,CAAC;MACFnC,YAAY,CAAC,IAAI,CAAC;IACpB,CAAC,SAAS;MACRE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMkD,WAAW,GAAG,MAAOC,IAAI,IAAK;IAClC,IAAI,CAACtD,SAAS,IAAI,CAACI,QAAQ,EAAE;IAE7B,IAAI;MACF,MAAMmD,SAAS,GAAG;QAChBC,MAAM,EAAE9C,WAAW,CAACM,GAAG;QACvBlB,MAAM,EAAEE,SAAS,CAACF,MAAM;QACxBM,QAAQ,EAAEqD,MAAM,CAACrD,QAAQ,CAAC;QAC1BuB,aAAa,EAAE3B,SAAS,CAACgD,KAAK;QAC9BU,SAAS,EAAEJ,IAAI;QACfK,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MACpC,CAAC;MAED,MAAMzE,MAAM,CAACD,UAAU,CAACF,EAAE,EAAE,QAAQ,CAAC,EAAEsE,SAAS,CAAC;MACjD5C,KAAK,CAAC;QACJqB,KAAK,EAAE,SAAS;QAChBC,WAAW,EAAE,gBACXqB,IAAI,KAAK,KAAK,GAAG,QAAQ,GAAG,MAAM,IAChClD,QAAQ,cAAcJ,SAAS,CAACF,MAAM,EAAE;QAC5CoC,MAAM,EAAE,SAAS;QACjBC,QAAQ,EAAE,IAAI;QACdC,UAAU,EAAE;MACd,CAAC,CAAC;MACFtB,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOgB,KAAK,EAAE;MACdnB,KAAK,CAAC;QACJqB,KAAK,EAAE,OAAO;QACdC,WAAW,EAAE,aAAaqB,IAAI,QAAQ;QACtCpB,MAAM,EAAE,OAAO;QACfC,QAAQ,EAAE,IAAI;QACdC,UAAU,EAAE;MACd,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAM0B,UAAU,GAAG,MAAAA,CAAOC,OAAO,EAAEjE,MAAM,EAAEyB,YAAY,EAAEnB,QAAQ,KAAK;IACpE,IAAI;MACF,MAAMZ,SAAS,CAACC,GAAG,CAACR,EAAE,EAAE,QAAQ,EAAE8E,OAAO,CAAC,CAAC;MAC3C,MAAM3E,MAAM,CAACD,UAAU,CAACF,EAAE,EAAE,QAAQ,CAAC,EAAE;QACrCuE,MAAM,EAAE9C,WAAW,CAACM,GAAG;QACvBlB,MAAM;QACNM,QAAQ,EAAE,CAACA,QAAQ;QAAE;QACrBuB,aAAa,EAAEJ,YAAY;QAC3BmC,SAAS,EAAE,MAAM;QACjBC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MACpC,CAAC,CAAC;MACFlD,KAAK,CAAC;QACJqB,KAAK,EAAE,SAAS;QAChBC,WAAW,EAAE,qBAAqB7B,QAAQ,cAAcN,MAAM,EAAE;QAChEoC,MAAM,EAAE,SAAS;QACjBC,QAAQ,EAAE,IAAI;QACdC,UAAU,EAAE;MACd,CAAC,CAAC;MACFtB,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOgB,KAAK,EAAE;MACdnB,KAAK,CAAC;QACJqB,KAAK,EAAE,OAAO;QACdC,WAAW,EAAE,sBAAsB;QACnCC,MAAM,EAAE,OAAO;QACfC,QAAQ,EAAE,IAAI;QACdC,UAAU,EAAE;MACd,CAAC,CAAC;IACJ;EACF,CAAC;EAED,oBACEzC,OAAA,CAAChD,SAAS;IAACqH,IAAI,EAAC,cAAc;IAACC,EAAE,EAAE,EAAG;IAAAC,QAAA,eACpCvE,OAAA,CAAC/C,MAAM;MAACuH,OAAO,EAAE,CAAE;MAAAD,QAAA,gBACjBvE,OAAA,CAAC3C,OAAO;QACNoH,UAAU,EAAC,oCAAoC;QAC/CC,MAAM,EAAC,MAAM;QACbC,QAAQ,EAAE;UAAEC,IAAI,EAAE,KAAK;UAAEC,EAAE,EAAE;QAAM,CAAE;QACrCC,UAAU,EAAC,WAAW;QAAAP,QAAA,EACvB;MAED;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,eAEVlF,OAAA,CAACrB,IAAI;QAACwG,KAAK,EAAC,MAAM;QAACC,OAAO,EAAC,UAAU;QAAAb,QAAA,gBACnCvE,OAAA,CAACpB,OAAO;UAAA2F,QAAA,gBACNvE,OAAA,CAAClB,GAAG;YAAAyF,QAAA,EAAC;UAAK;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAChBlF,OAAA,CAAClB,GAAG;YAAAyF,QAAA,EAAC;UAAS;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CAAC,eAEVlF,OAAA,CAACnB,SAAS;UAAA0F,QAAA,gBACRvE,OAAA,CAACjB,QAAQ;YAAAwF,QAAA,eACPvE,OAAA,CAAC/C,MAAM;cAACuH,OAAO,EAAE,CAAE;cAAAD,QAAA,gBACjBvE,OAAA,CAACjD,GAAG;gBAACoI,KAAK,EAAC,MAAM;gBAAAZ,QAAA,eACfvE,OAAA,CAACnC,UAAU;kBAACwH,IAAI,EAAC,IAAI;kBAAAd,QAAA,gBACnBvE,OAAA,CAAC9C,KAAK;oBACJoI,WAAW,EAAC,iCAAiC;oBAC7CC,KAAK,EAAEpF,MAAO;oBACdqF,QAAQ,EAAGC,CAAC,IAAKrF,SAAS,CAACqF,CAAC,CAACC,MAAM,CAACH,KAAK,CAACnC,WAAW,CAAC,CAAC,CAAE;oBACzDuC,UAAU,EAAGF,CAAC,IAAK;sBACjB,IAAIA,CAAC,CAACG,GAAG,KAAK,OAAO,EAAE3C,WAAW,CAAC,CAAC;oBACtC;kBAAE;oBAAA8B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC,eACFlF,OAAA,CAAClC,iBAAiB;oBAACqH,KAAK,EAAC,QAAQ;oBAAAZ,QAAA,eAC/BvE,OAAA,CAAC7C,MAAM;sBACL0I,CAAC,EAAC,SAAS;sBACXR,IAAI,EAAC,IAAI;sBACTS,OAAO,EAAE7C,WAAY;sBACrB8C,SAAS,EAAExF,OAAQ;sBAAAgE,QAAA,eAEnBvE,OAAA,CAACb,UAAU;wBAAA4F,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACR;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACV;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CAAC,EAEL7E,SAAS,iBACRL,OAAA,CAACjD,GAAG;gBACFiJ,CAAC,EAAE,CAAE;gBACLC,YAAY,EAAC,IAAI;gBACjBC,SAAS,EAAC,IAAI;gBACdC,EAAE,EAAElF,OAAQ;gBACZmF,MAAM,EAAC,KAAK;gBACZlF,WAAW,EAAEA,WAAY;gBACzBiE,KAAK,EAAC,MAAM;gBAAAZ,QAAA,eAEZvE,OAAA,CAAC/C,MAAM;kBAACuH,OAAO,EAAE,CAAE;kBAAAD,QAAA,gBACjBvE,OAAA,CAACjC,IAAI;oBAACsI,SAAS,EAAC,QAAQ;oBAAA9B,QAAA,gBACtBvE,OAAA,CAAChC,SAAS;sBAAC2G,QAAQ,EAAC,IAAI;sBAAAJ,QAAA,EAAElE,SAAS,CAACF;oBAAM;sBAAA4E,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAY,CAAC,eACvDlF,OAAA,CAAC/B,UAAU;sBAAC0G,QAAQ,EAAC,KAAK;sBAAAJ,QAAA,GAAC,GACxB,EAAClE,SAAS,CAACgD,KAAK,CAACiD,OAAO,CAAC,CAAC,CAAC;oBAAA;sBAAAvB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAClB,CAAC,eACblF,OAAA,CAAC9B,YAAY;sBAAAqG,QAAA,gBACXvE,OAAA,CAAC7B,SAAS;wBACRwF,IAAI,EACFtD,SAAS,CAACiD,MAAM,GAAG,CAAC,GAAG,UAAU,GAAG;sBACrC;wBAAAyB,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACF,CAAC,EACDqB,IAAI,CAACC,GAAG,CAACnG,SAAS,CAACkD,aAAa,CAAC,CAAC+C,OAAO,CAAC,CAAC,CAAC,EAAC,GAChD;oBAAA;sBAAAvB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAc,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACX,CAAC,eAEPlF,OAAA,CAAC1B,WAAW;oBACViH,KAAK,EAAE9E,QAAS;oBAChBgG,GAAG,EAAE,CAAE;oBACPjB,QAAQ,EAAGD,KAAK,IAAK7E,WAAW,CAACoD,MAAM,CAACyB,KAAK,CAAC,CAAE;oBAAAhB,QAAA,gBAEhDvE,OAAA,CAACzB,gBAAgB;sBAAAwG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eACpBlF,OAAA,CAACxB,kBAAkB;sBAAA+F,QAAA,gBACjBvE,OAAA,CAACvB,sBAAsB;wBAAAsG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE,CAAC,eAC1BlF,OAAA,CAACtB,sBAAsB;wBAAAqG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACR,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACV,CAAC,eAEdlF,OAAA,CAAC5C,IAAI;oBAACuH,QAAQ,EAAC,IAAI;oBAACG,UAAU,EAAC,MAAM;oBAAAP,QAAA,GAAC,UAC5B,EAAC,CAAClE,SAAS,CAACgD,KAAK,GAAG5C,QAAQ,EAAE6F,OAAO,CAAC,CAAC,CAAC;kBAAA;oBAAAvB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5C,CAAC,eAEPlF,OAAA,CAAC7C,MAAM;oBACLuJ,WAAW,EAAC,OAAO;oBACnBvB,KAAK,EAAC,MAAM;oBACZW,OAAO,EAAEA,CAAA,KAAMpC,WAAW,CAAC,KAAK,CAAE;oBAAAa,QAAA,EACnC;kBAED;oBAAAQ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACK;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAEXlF,OAAA,CAACjB,QAAQ;YAAAwF,QAAA,eACPvE,OAAA,CAACjD,GAAG;cACFkJ,YAAY,EAAC,IAAI;cACjBC,SAAS,EAAC,IAAI;cACdC,EAAE,EAAElF,OAAQ;cACZmF,MAAM,EAAC,KAAK;cACZlF,WAAW,EAAEA,WAAY;cACzByF,QAAQ,EAAC,QAAQ;cAAApC,QAAA,eAEjBvE,OAAA,CAACzC,KAAK;gBAAC6H,OAAO,EAAC,QAAQ;gBAAAb,QAAA,gBACrBvE,OAAA,CAACxC,KAAK;kBAAA+G,QAAA,eACJvE,OAAA,CAACtC,EAAE;oBAAA6G,QAAA,gBACDvE,OAAA,CAACrC,EAAE;sBAAA4G,QAAA,EAAC;oBAAM;sBAAAQ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eACflF,OAAA,CAACrC,EAAE;sBAACiJ,SAAS;sBAAArC,QAAA,EAAC;oBAAQ;sBAAAQ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC3BlF,OAAA,CAACrC,EAAE;sBAACiJ,SAAS;sBAAArC,QAAA,EAAC;oBAAc;sBAAAQ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eACjClF,OAAA,CAACrC,EAAE;sBAACiJ,SAAS;sBAAArC,QAAA,EAAC;oBAAa;sBAAAQ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAChClF,OAAA,CAACrC,EAAE;sBAACiJ,SAAS;sBAAArC,QAAA,EAAC;oBAAW;sBAAAQ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC9BlF,OAAA,CAACrC,EAAE;sBAACiJ,SAAS;sBAAArC,QAAA,EAAC;oBAAW;sBAAAQ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC9BlF,OAAA,CAACrC,EAAE;sBAAA4G,QAAA,EAAC;oBAAM;sBAAAQ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACb;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACA,CAAC,eACRlF,OAAA,CAACvC,KAAK;kBAAA8G,QAAA,EACH1D,gBAAgB,gBACfb,OAAA,CAACtC,EAAE;oBAAA6G,QAAA,eACDvE,OAAA,CAACpC,EAAE;sBAACiJ,OAAO,EAAE,CAAE;sBAAAtC,QAAA,eACbvE,OAAA,CAAChB,QAAQ;wBAAC8H,MAAM,EAAC;sBAAM;wBAAA/B,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACxB;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC,GAELvE,SAAS,CAACoG,GAAG,CAAEtF,KAAK,iBAClBzB,OAAA,CAACtC,EAAE;oBAAA6G,QAAA,gBACDvE,OAAA,CAACpC,EAAE;sBAAA2G,QAAA,EAAE9C,KAAK,CAACtB;oBAAM;sBAAA4E,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACvBlF,OAAA,CAACpC,EAAE;sBAACgJ,SAAS;sBAAArC,QAAA,EAAE9C,KAAK,CAAChB;oBAAQ;sBAAAsE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACnClF,OAAA,CAACpC,EAAE;sBAACgJ,SAAS;sBAAArC,QAAA,GAAC,GAAC,EAAC9C,KAAK,CAACO,aAAa,CAACsE,OAAO,CAAC,CAAC,CAAC;oBAAA;sBAAAvB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACpDlF,OAAA,CAACpC,EAAE;sBAACgJ,SAAS;sBAAArC,QAAA,GAAC,GAAC,EAAC9C,KAAK,CAACG,YAAY,CAAC0E,OAAO,CAAC,CAAC,CAAC;oBAAA;sBAAAvB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACnDlF,OAAA,CAACpC,EAAE;sBAACgJ,SAAS;sBAAArC,QAAA,GAAC,GAAC,EAAC9C,KAAK,CAACK,UAAU,CAACwE,OAAO,CAAC,CAAC,CAAC;oBAAA;sBAAAvB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACjDlF,OAAA,CAACpC,EAAE;sBAACgJ,SAAS;sBAAArC,QAAA,eACXvE,OAAA,CAAC3B,KAAK;wBACJqI,WAAW,EACTjF,KAAK,CAACM,UAAU,IAAI,CAAC,GAAG,OAAO,GAAG,KACnC;wBAAAwC,QAAA,GACF,GACE,EAAC9C,KAAK,CAACM,UAAU,CAACuE,OAAO,CAAC,CAAC,CAAC,EAAC,IAC9B,EAAC7E,KAAK,CAACQ,oBAAoB,CAACqE,OAAO,CAAC,CAAC,CAAC,EAAC,IACzC;sBAAA;wBAAAvB,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAO;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACN,CAAC,eACLlF,OAAA,CAACpC,EAAE;sBAAA2G,QAAA,eACDvE,OAAA,CAAC7C,MAAM;wBACLuJ,WAAW,EAAC,KAAK;wBACjBrB,IAAI,EAAC,IAAI;wBACTS,OAAO,EAAEA,CAAA,KACP3B,UAAU,CACR1C,KAAK,CAACC,EAAE,EACRD,KAAK,CAACtB,MAAM,EACZsB,KAAK,CAACG,YAAY,EAClBH,KAAK,CAAChB,QACR,CACD;wBAAA8D,QAAA,EACF;sBAED;wBAAAQ,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACP,CAAC;kBAAA,GA/BEzD,KAAK,CAACC,EAAE;oBAAAqD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAgCb,CACL;gBACF;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEhB;AAAChF,EAAA,CAxVQD,OAAO;EAAA,QAOUZ,OAAO,EACjB/B,QAAQ,EAENc,iBAAiB,EACbA,iBAAiB;AAAA;AAAA4I,EAAA,GAX9B/G,OAAO;AA0VhB,eAAeA,OAAO;AAAC,IAAA+G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}